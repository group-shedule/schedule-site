<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12–≠–ü–° | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(function(OneSignal) {
        OneSignal.init({
          appId: "f64d7c70-608c-47a1-b699-b9393d0c1683", // <-- –í–°–¢–ê–í–¨ ID
          notifyButton: { enable: true, size: 'medium', theme: 'default', position: 'bottom-right' }
        });
      });
    </script>
</head>
<body>

    <div id="loader" class="loader-overlay">
        <div class="loader-content">
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
        </div>
    </div>

    <div class="app-container">
        <header>
            <div class="logo">12–≠–ü–°</div>
            <div class="date-widget">
                <button class="nav-arrow" onclick="changeDate(-1)">‚ùÆ</button>
                <div class="date-display">
                    <span id="human-day">...</span>
                    <input type="date" id="date-picker">
                    <small id="human-full-date">...</small>
                </div>
                <button class="nav-arrow" onclick="changeDate(1)">‚ùØ</button>
            </div>
        </header>

        <main>
            <!-- –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ -->
            <div id="admin-panel" class="admin-panel hidden">
                <div class="admin-header">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="admin-actions">
                    <button onclick="openAddModal()" class="btn-icon">‚ûï –ü–∞—Ä—É</button>
                    <button id="notify-btn" onclick="sendNotification()" class="btn-icon alert">üì¢ –£–≤–µ–¥–æ–º–∏—Ç—å</button>
                </div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ -->
                <div class="template-controls">
                    <div class="template-row">
                        <button onclick="saveCurrentDayAsTemplate()" class="btn-small">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ–Ω—å –∫–∞–∫ —à–∞–±–ª–æ–Ω</button>
                        <button onclick="openTemplateModal()" class="btn-small">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
            </div>

            <div id="schedule-list" class="schedule-grid"></div>

            <div id="empty-msg" class="empty-state hidden">
                <div class="empty-icon">üèñÔ∏è</div>
                <p>–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –ø–∞—Ä –Ω–µ—Ç</p>
            </div>
        </main>
    </div>

    <!-- –ú–û–î–ê–õ–ö–ê –ü–†–û–°–ú–û–¢–†–ê / –î–ó -->
    <div id="modal" class="modal-overlay hidden">
        <div class="modal-card">
            <div class="modal-header">
                <h2 id="modal-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
                <span class="close-btn" onclick="closeModal()">&times;</span>
            </div>
            
            <div id="modal-body" class="modal-body"></div>

            <!-- –ì–∞–ª–µ—Ä–µ—è -->
            <div id="gallery-controls" class="gallery-container hidden">
                <div class="gallery-viewer">
                    <button class="gallery-nav prev" onclick="prevSlide()">‚ùÆ</button>
                    <div class="image-wrapper">
                        <img id="gallery-img" src="" alt="–õ–µ–∫—Ü–∏—è">
                        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ (–¢–æ–ª—å–∫–æ –¥–ª—è –ê–¥–º–∏–Ω–∞) -->
                        <div id="photo-actions" class="photo-actions hidden">
                            <button onclick="rotateCurrentPhoto()" title="–ü–æ–≤–µ—Ä–Ω—É—Ç—å">‚Üª</button>
                            <button onclick="deleteCurrentPhoto()" title="–£–¥–∞–ª–∏—Ç—å" class="del">üóëÔ∏è</button>
                        </div>
                    </div>
                    <button class="gallery-nav next" onclick="nextSlide()">‚ùØ</button>
                </div>
                <div class="gallery-info">–°–ª–∞–π–¥ <span id="current-page">1</span> / <span id="total-pages">1</span></div>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–ö–ê –í–´–ë–û–†–ê –®–ê–ë–õ–û–ù–ê -->
    <div id="template-modal" class="modal-overlay hidden">
        <div class="modal-card small">
            <div class="modal-header">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω</h2>
                <span class="close-btn" onclick="closeTemplateModal()">&times;</span>
            </div>
            <div id="templates-list" class="templates-list">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–ö–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø -->
    <div id="add-modal" class="modal-overlay hidden">
        <div class="modal-card small">
            <div class="modal-header">
                <h2>–ù–æ–≤–∞—è –ø–∞—Ä–∞</h2>
                <span class="close-btn" onclick="closeAddModal()">&times;</span>
            </div>
            <form id="add-form" onsubmit="submitNewPair(event)" class="modern-form">
                <div class="form-row">
                    <input type="time" id="new-start" required>
                    <span>‚Äî</span>
                    <input type="time" id="new-end" required>
                </div>
                <input type="text" id="new-subject" placeholder="–ü—Ä–µ–¥–º–µ—Ç" required>
                <input type="text" id="new-teacher" placeholder="–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å">
                <button type="submit" class="btn-primary full-width">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <button id="admin-login-btn" class="fab-settings">‚öôÔ∏è</button>

    <script src="script.js?v=999"></script>
</body>
</html>


