<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</title>
    
    <!-- FAVICON (–ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞) -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <link rel="stylesheet" href="style.css">

        <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OneSignal (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) -->
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(function(OneSignal) {
        OneSignal.init({
          appId: "b4a0253c-5239-4270-834e-1479ecbdcfe8", // <-- –¢–í–û–ò –¶–ò–§–†–´
          
          // –í–ö–õ–Æ–ß–ê–ï–ú –ö–û–õ–û–ö–û–õ–¨–ß–ò–ö (–°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±)
          notifyButton: {
            enable: true, 
            showCredit: false,
            text: {
                'tip.state.unsubscribed': '–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è!',
                'tip.state.subscribed': '–í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è',
                'tip.state.blocked': '–í—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
                'message.action.subscribed': "–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É!",
                'message.action.resubscribed': "–í—ã —Å–Ω–æ–≤–∞ –ø–æ–¥–ø–∏—Å–∞–Ω—ã",
                'message.action.unsubscribed': "–í—ã –æ—Ç–ø–∏—Å–∞–ª–∏—Å—å",
                'dialog.main.title': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',
                'dialog.main.button.subscribe': '–ü–û–î–ü–ò–°–ê–¢–¨–°–Ø',
                'dialog.main.button.unsubscribe': '–û–¢–ü–ò–°–ê–¢–¨–°–Ø',
                'dialog.blocked.title': '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
                'dialog.blocked.message': '–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'
            }
          },
          
          // –†–∞–∑—Ä–µ—à–∞–µ–º —Ä–∞–±–æ—Ç—É –Ω–∞ –ª–æ–∫–∞–ª–∫–µ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
          allowLocalhostAsSecureOrigin: true,
        });
        
        // –ù–ê–°–ò–õ–¨–ù–û –í–´–ó–´–í–ê–ï–ú –û–ö–ù–û –ü–û–î–ü–ò–°–ö–ò –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï
        OneSignal.Slidedown.promptPush();
      });
    </script>
</head>
<body>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div id="loader" class="server-toast">
        <div class="spinner-small"></div>
        <span>–°–≤—è–∑—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö...</span>
    </div>

    <header>
        <h1>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h1>
        
        <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
        <div class="date-controls">
            <button onclick="changeDate(-1)">‚ùÆ</button>
            <input type="date" id="date-picker">
            <button onclick="changeDate(1)">‚ùØ</button>
        </div>
        <p id="human-date" class="current-date">...</p>
        
        <!-- –ü–ê–ù–ï–õ–¨ –ê–î–ú–ò–ù–ê (–°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div class="admin-controls hidden" id="admin-panel-header">
            <button id="add-pair-btn" class="btn-add-pair" onclick="openAddModal()">+ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É</button>
            <button id="notify-btn" class="btn-notify" onclick="sendNotification()">üì¢ –£–≤–µ–¥–æ–º–∏—Ç—å (0)</button>
        </div>
    </header>

    <main>
        <div class="table-container">
            <div id="schedule-list">
                <!-- –°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–∞—Ä—ã -->
            </div>
            <p id="empty-msg" style="text-align:center; color:#777; margin-top:20px; display:none;">
                –ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –ø–∞—Ä –Ω–µ—Ç (–∏–ª–∏ —ç—Ç–æ –≤—ã—Ö–æ–¥–Ω–æ–π).
            </p>
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª–∫–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä -->
    <div id="modal" class="modal-overlay hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 id="modal-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
            
            <div id="modal-body" style="margin-bottom: 15px; line-height: 1.5;"></div>

            <!-- –ì–∞–ª–µ—Ä–µ—è -->
            <div id="gallery-controls" class="hidden">
                <div class="gallery-view">
                    <button class="nav-btn prev" onclick="prevSlide()">‚ùÆ</button>
                    <img id="gallery-img" src="" alt="–õ–µ–∫—Ü–∏—è">
                    <button class="nav-btn next" onclick="nextSlide()">‚ùØ</button>
                </div>
                <div class="gallery-counter">–°—Ç—Ä <span id="current-page">1</span> –∏–∑ <span id="total-pages">1</span></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ -->
    <div id="add-modal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close-btn" onclick="closeAddModal()">&times;</span>
            <h2 style="margin-bottom: 15px;">–ù–æ–≤–∞—è –ø–∞—Ä–∞</h2>
            <form id="add-form" onsubmit="submitNewPair(event)">
                <div class="input-group">
                    <label>–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:</label>
                    <input type="time" id="new-start" required>
                </div>
                <div class="input-group">
                    <label>–í—Ä–µ–º—è –∫–æ–Ω—Ü–∞:</label>
                    <input type="time" id="new-end" required>
                </div>
                <div class="input-group">
                    <label>–ü—Ä–µ–¥–º–µ—Ç:</label>
                    <input type="text" id="new-subject" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞" required>
                </div>
                <div class="input-group">
                    <label>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å:</label>
                    <input type="text" id="new-teacher" placeholder="–§–∞–º–∏–ª–∏—è –ò.–û.">
                </div>
                <button type="submit" class="btn-add-pair" style="width:100%; border-radius: 10px;">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- –®–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ -->
    <button id="admin-login-btn" class="admin-floating-btn" title="–ê–¥–º–∏–Ω–∫–∞">‚öôÔ∏è</button>

    <script src="script.js?v=2026"></script>
</body>
</html>




